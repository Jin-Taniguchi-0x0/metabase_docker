# 実験参加者向けマニュアル

本システムは、データ分析とダッシュボード作成を支援する実験用アプリケーションです。
AIによる「ビュー推薦機能」を活用しながら、グラフを作成し、ダッシュボードを構築していただきます。

## 1. ログイン

アプリケーションを起動すると、認証画面が表示されます。配布された以下の情報を入力して「接続」ボタンを押してください。

*   **Username / Password**: Metabaseのログイン情報
*   **Dashboard ID**: 実験で使用するダッシュボードのID
*   **Secret Key**: システム接続用のキー

## 2. 画面の構成

画面は大きく分けて、左側の「サイドバー」と右側の「メインエリア」に分かれています。

### サイドバー（左側）
*   **分析対象テーブル**: 今回の分析で使用するデータ（テーブル）を選択します。タスクの指示に従って適切なテーブルを選んでください。
*   **Debug Info**: ログアウトやテーブル情報の確認ができます。

### メインエリア（右側）
*   **ダッシュボード**: 現在作成中のダッシュボードが表示されます。作成したグラフはここに追加されます。
*   **ビュー推薦**: AIが提案する「おすすめのグラフ」が表示されます。
*   **現在のダッシュボードのビュー**: 作成済みのグラフ一覧です。不要なグラフはここから削除できます。
*   **操作ログ**: 実験の記録です。

## 3. グラフの作成方法

グラフを作成するには、以下の2つの方法があります。

### A. AI推薦から作成する（推奨）
「ビュー推薦」エリアに、AIが提案するグラフの候補が表示されます。
1.  気になるグラフの「**作成**」ボタンを押します。
2.  設定画面が開くので、内容を確認して「**作成してダッシュボードに追加**」ボタンを押します。

### B. 新しく自分で作成する
推薦の中に作りたいグラフがない場合は、自分で一から作成できます。
1.  「**新しいグラフを作成**」ボタン（または「新しいグラフを対話的に作成する」ボタン）を押します。
2.  **グラフの種類**（棒グラフ、散布図など）を選択します。
3.  **設定**（X軸、Y軸、集計方法など）を行います。
4.  「**プレビュー**」ボタンで確認し、「**作成してダッシュボードに追加**」ボタンを押します。

## 4. グラフの削除

間違えて作成した場合や、不要になったグラフは削除できます。
「現在のダッシュボードのビュー」エリアにある、削除したいグラフの「**🗑️ 削除**」ボタンを押してください。

## 5. 実験の終了

タスクが完了したら、「操作ログ」エリアにある「**操作ログをダウンロード (.json)**」ボタンを押して、ログファイルを保存してください。
保存したファイルは、実験担当者に提出してください。

## 6. ビュー（グラフ）の種類と特徴

本システムで作成できる主なグラフの種類と、それぞれの特徴は以下の通りです。

| グラフの種類 | アイコン | 特徴・用途 |
| :--- | :---: | :--- |
| **棒グラフ** (Bar) | 📊 | データの大小を比較するのに適しています。カテゴリごとの数値を比較する場合によく使われます。 |
| **折れ線グラフ** (Line) | 📈 | 時系列でのデータの推移（変化）を見るのに適しています。 |
| **エリアグラフ** (Area) | 📉 | 折れ線グラフと同様に推移を見ますが、量（ボリューム）の総和を強調したい場合に適しています。 |
| **円グラフ** (Pie) | 🥧 | 全体に対する各項目の構成比（割合）を見るのに適しています。 |
| **散布図** (Scatter) | ✨ | 2つの数値項目の関係性（相関）を見るのに適しています（例：身長と体重）。 |
| **ピボットテーブル** (Pivot) | 🧮 | データをクロス集計し、表形式で詳細な数値を分析するのに適しています。 |
| **テーブル** (Table) | 📋 | 生データをそのまま表形式で表示します。詳細を確認したい場合に使います。 |
| **ファンネル** (Funnel) | 🏺 | 段階的なプロセスの通過人数や減少率（歩留まり）を見るのに適しています。 |
| **ゲージ** (Gauge) | ⏱️ | 目標値に対する現在の達成度をメーター形式で表示します。 |
| **ウォーターフォール** (Waterfall)| 🌊 | 増減の積み上げ過程を可視化するのに適しています。 |
| **数値** (Number) | 🔢 | 合計件数や平均値など、単一の重要な数値を大きく表示します。 |
| **地図** (Map) | 🗺️ | 地理的なデータの分布を可視化します。「ピンマップ」と「リージョンマップ（塗り分け）」があります。 |

## 7. データについて

本実験では、以下の2つのデータセットのいずれかを使用します。タスクの指示に従ってテーブルを選択してください。

### 1. UFO目撃情報データ (`UFOscrubbed`)
世界各地で報告されたUFO（未確認飛行物体）の目撃情報のデータセットです。

#### **ディメンション（分析の切り口）**
*   **`datetime`**: 目撃された日時。時系列分析（年別、月別、時間帯別など）に使用します。
*   **`city`**: 目撃された都市名。
*   **`state`**: 目撃された州（主に米国）。
*   **`country`**: 目撃された国（コード）。地域ごとの比較に使用します。
*   **`shape`**: 目撃されたUFOの形状（例：circle, triangle, light, fireball）。形状ごとの傾向分析に使用します。
*   **`comments`**: 目撃者のコメント（自由記述）。
*   **`date posted`**: データが投稿された日。

#### **メトリック（集計の対象）**
*   **`duration (seconds)`**: 目撃時間（秒単位）。UFOがどれくらいの時間見えていたかの長さを分析します。
*   **`latitude`**: 緯度。地図上でのプロットに使用します（数値ですが、場所を示すためディメンション的に扱われることもあります）。
*   **`longitude`**: 経度。地図上でのプロットに使用します。
*   **レコード件数**: 目撃情報の報告件数そのもの。最も基本的な指標です。

---

### 2. オリンピック選手データ (`athlete_events`)
近代オリンピック（1896年〜2016年）の参加選手とメダル獲得の記録データセットです。

#### **ディメンション（分析の切り口）**
*   **`Name`**: 選手の名前。
*   **`Sex`**: 性別（`M`: 男性, `F`: 女性）。男女別の比較に使用します。
*   **`Team`**: チーム名（国や地域名など）。
*   **`NOC`**: 国内オリンピック委員会コード（3文字の国コード）。国別メダル数などの集計に使用します。
*   **`Games`**: 大会名（例：`2012 Summer`）。特定の大会に絞り込む際に使用します。
*   **`Year`**: 開催年（整数）。年ごとの推移を見るために使用します（X軸によく使われます）。
*   **`Season`**: シーズン（`Summer`: 夏季, `Winter`: 冬季）。
*   **`City`**: 開催都市。
*   **`Sport`**: 競技名（例：`Swimming`, `Athletics`）。
*   **`Event`**: 種目名（例：`Swimming Men's 100 metres Freestyle`）。
*   **`Medal`**: 獲得したメダル（`Gold`, `Silver`, `Bronze`, `NA`=メダルなし）。メダル獲得数や種類の内訳を見るために使用します。

#### **メトリック（集計の対象）**
*   **`Age`**: 選手の年齢（整数）。年齢分布や平均年齢の分析に使用します。
*   **`Height`**: 選手の身長（cm単位）。体格の傾向分析に使用します。
*   **`Weight`**: 選手の体重（kg単位）。
*   **レコード件数**: 選手のエントリー数（参加延べ人数）。メダル数をカウントする場合は、`Medal`列が`NA`でないものをフィルタリングするか、カウントします。

### 3. 用語の定義：ディメンションとメトリック

データ分析において重要な2つの概念について、厳密に定義します。

#### **ディメンション (Dimension)**
**「分析の切り口」となる質的データ（カテゴリカルデータ）**のことです。
データをグループ化したり、フィルタリング（絞り込み）したりする際に使用される独立変数です。
*   **役割**: データを「誰が」「いつ」「どこで」「何が」といった観点で分類します。
*   **グラフでの用途**: 主に**X軸**（横軸）、**凡例**（色分け）、**行・列**（ピボットテーブル）に使用されます。
*   **例**:
    *   `datetime` (日時): 時系列での推移を見るための切り口
    *   `country` (国): 地域ごとの違いを見るための切り口
    *   `Sex` (性別): 男女比を見るための切り口

#### **メトリック (Metric)**
**「集計の対象」となる量的データ（数値データ）**のことです。
合計、平均、最大・最小などの計算が可能な従属変数です。
*   **役割**: 「どれくらい（量・数・程度）」を定量的に評価します。
*   **グラフでの用途**: 主に**Y軸**（縦軸）、**値**（グラフの高さや大きさ）に使用されます。
*   **例**:
    *   `duration` (時間): 長さの合計や平均を算出
    *   `Height` (身長): 平均身長などを算出
    *   **レコード件数**: 行数そのものを数えること（例：UFOの目撃回数、メダル獲得数）

※ グラフを作成する際は、「どの**ディメンション**で切り分けて、どの**メトリック**を集計するか」を決定することが基本となります。

---
**困ったときは**
*   エラーが表示された場合は、画面をリロード（再読み込み）してみてください。
*   操作方法がわからなくなった場合は、実験担当者にお尋ねください。
